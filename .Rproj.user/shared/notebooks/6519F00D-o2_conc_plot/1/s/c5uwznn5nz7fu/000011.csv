"0","# Step 1: Create your truncated gradient"
"0","n_bands <- 10000"
"0",""
"0","# Get the full palette"
"0","full_palette <- colorRampPalette(brewer.pal(9, ""YlGnBu""))(200)  # more resolution"
"0",""
"0","# Choose a subset â€” e.g., only the first 75% of it"
"0","gradient_colors <- full_palette[1:100]  # 75% of 200 = 150"
"0",""
"0","# Resample to your desired number of bands"
"0","gradient_colors <- colorRampPalette(gradient_colors)(n_bands)"
"0",""
"0","# Step 2: Create the background rectangles"
"0","x_vals <- seq(5.0, 0, length.out = n_bands + 1)"
"0","gradient_df <- data.frame("
"0","  xmin = x_vals[-(n_bands + 1)],"
"0","  xmax = x_vals[-1],"
"0","  ymin = -Inf,"
"0","  ymax = Inf,"
"0","  fill = gradient_colors"
"0",")"
"0",""
